<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TEAM_X Thai Consonant Drill</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #74ebd5, #ACB6E5);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

.container {
    background: white;
    padding: 30px;
    border-radius: 15px;
    width: 400px;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

.letter {
    font-size: 90px;
    margin: 20px 0;
}

.hearts {
    font-size: 24px;
    margin-bottom: 10px;
}

button {
    padding: 10px;
    margin: 5px;
    width: 45%;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    background: #4CAF50;
    color: white;
}

button:hover {
    background: #45a049;
}

.feedback {
    margin-top: 15px;
    font-weight: bold;
}

.gameover {
    color: red;
    font-size: 22px;
    margin-top: 15px;
}
</style>
</head>

<body>

<div class="container">
    <h2>TEAM_X Thai Consonant Drill</h2>

    <div class="hearts" id="hearts">‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è</div>

    <div id="counter" style="margin-bottom:10px;font-weight:bold"></div>

    <div class="letter" id="letter"></div>

    <div id="choices"></div>

    <div class="feedback" id="feedback"></div>
</div>

<script>

const consonants = [
{ letter: "‡∏Å", name: "ko kai" },
{ letter: "‡∏Ç", name: "kho khai" },
{ letter: "‡∏É", name: "kho khuat" },
{ letter: "‡∏Ñ", name: "kho khwai" },
{ letter: "‡∏Ö", name: "kho khon" },
{ letter: "‡∏Ü", name: "kho ra khang" },
{ letter: "‡∏á", name: "ngo ngu" },
{ letter: "‡∏à", name: "cho chan" },
{ letter: "‡∏â", name: "cho ching" },
{ letter: "‡∏ä", name: "cho chang" },
{ letter: "‡∏ã", name: "so so" },
{ letter: "‡∏å", name: "cho choe" },
{ letter: "‡∏ç", name: "yo ying" },
{ letter: "‡∏é", name: "do chada" },
{ letter: "‡∏è", name: "to patak" },
{ letter: "‡∏ê", name: "tho than" },
{ letter: "‡∏ë", name: "tho nang montho" },
{ letter: "‡∏í", name: "tho phu thao" },
{ letter: "‡∏ì", name: "no nen" },
{ letter: "‡∏î", name: "do dek" },
{ letter: "‡∏ï", name: "to tao" },
{ letter: "‡∏ñ", name: "tho thung" },
{ letter: "‡∏ó", name: "tho thahan" },
{ letter: "‡∏ò", name: "tho thong" },
{ letter: "‡∏ô", name: "no nu" },
{ letter: "‡∏ö", name: "bo baimai" },
{ letter: "‡∏õ", name: "po pla" },
{ letter: "‡∏ú", name: "pho phueng" },
{ letter: "‡∏ù", name: "fo fa" },
{ letter: "‡∏û", name: "pho phan" },
{ letter: "‡∏ü", name: "fo fan" },
{ letter: "‡∏†", name: "pho samphao" },
{ letter: "‡∏°", name: "mo ma" },
{ letter: "‡∏¢", name: "yo yak" },
{ letter: "‡∏£", name: "ro ruea" },
{ letter: "‡∏•", name: "lo ling" },
{ letter: "‡∏ß", name: "wo waen" },
{ letter: "‡∏®", name: "so sala" },
{ letter: "‡∏©", name: "so ruesi" },
{ letter: "‡∏™", name: "so suea" },
{ letter: "‡∏´", name: "ho hip" },
{ letter: "‡∏¨", name: "lo chu la" },
{ letter: "‡∏≠", name: "o ang" },
{ letter: "‡∏Æ", name: "ho nok huk" }
];

let hearts = 3;
let current;
const known = new Set();

function updateCounter() {
    const total = consonants.length;
    const knownCount = known.size;
    const remaining = total - knownCount;
    document.getElementById("counter").textContent =
        `Remaining: ${remaining} / ${total} (Known: ${knownCount})`;
}

function updateHearts() {
    let heartDisplay = "";
    for (let i = 0; i < hearts; i++) {
        heartDisplay += "‚ù§Ô∏è ";
    }
    document.getElementById("hearts").textContent = heartDisplay;
}

function getRandomQuestion() {
    const pool = consonants.filter(c => !known.has(c.name));
    if (pool.length === 0) {
        document.getElementById("letter").textContent = "üéâ All cards known!";
        document.getElementById("choices").innerHTML = "";
        document.getElementById("feedback").textContent = "Great job ‚Äî you've learned all cards.";
        updateCounter();
        return;
    }

    current = pool[Math.floor(Math.random() * pool.length)];
    document.getElementById("letter").textContent = current.letter;
    generateChoices();
    document.getElementById("feedback").textContent = "";
}

function generateChoices() {
    let choicesDiv = document.getElementById("choices");
    choicesDiv.innerHTML = "";

    let options = [current];

    // try to pick distractors from non-known items first
    const distractorPool = consonants.filter(c => c.name !== current.name && !known.has(c.name));
    const fallbackPool = consonants.filter(c => c.name !== current.name);

    while (options.length < 4) {
        let pool = distractorPool.length >= (4 - options.length) ? distractorPool : fallbackPool;
        let random = pool[Math.floor(Math.random() * pool.length)];
        if (!options.includes(random)) {
            options.push(random);
        }
    }

    options.sort(() => Math.random() - 0.5);

    options.forEach(option => {
        let btn = document.createElement("button");
        btn.textContent = option.name;
        btn.onclick = () => checkAnswer(option);
        choicesDiv.appendChild(btn);
    });
}

function checkAnswer(option) {
    if (hearts === 0) return;

    if (option.name === current.name) {
        document.getElementById("feedback").textContent =
            "Correct! " + current.letter + " = " + current.name;
        // mark as known and update counter
        known.add(current.name);
        updateCounter();
        getRandomQuestion();
    } else {
        hearts--;
        updateHearts();
        document.getElementById("feedback").textContent = "Wrong!";

        if (hearts === 0) {
            document.getElementById("feedback").innerHTML =
                "<div class='gameover'>Game Over</div>";
            document.getElementById("choices").innerHTML = "";
        }
    }
}

updateHearts();
updateCounter();
getRandomQuestion();

</script>

</body>
</html>
